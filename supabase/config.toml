project_id = "qgfaycwsangsqzpveoup"

[api]
enabled = true
port = 54321
schemas = ["public", "graphql_public"]
extra_search_path = ["public", "extensions"]
max_rows = 1000

[functions.sla-breach-notifier]
verify_jwt = false

[functions.snooze-notifier]
verify_jwt = false

[functions.timezone-aware-scheduler]
verify_jwt = false

[db]
port = 54322

[db.pooler]
enabled = false
port = 54329
pool_mode = "transaction"
default_pool_size = 20
max_client_conn = 100

[realtime]
enabled = true
ip_version = "ipv4"
port = 54324
max_header_length = 4096

[studio]
enabled = true
port = 54323
api_url = "http://127.0.0.1:54321"

[inbucket]
enabled = true
port = 54324
smtp_port = 54325
pop3_port = 54326

[storage]
enabled = true
file_size_limit = "50MiB"
image_transformation = true

[auth]
enabled = true
site_url = "https://support.noddi.co"
additional_redirect_urls = ["http://127.0.0.1:3000", "https://127.0.0.1:3000", "https://85bad663-82f6-4abe-b065-809b79462500.sandbox.lovable.dev", "https://support.noddi.co", "https://lovable-customer-support-hub.lovable.app"]
jwt_expiry = 3600
enable_signup = true
enable_anonymous_sign_ins = false

[auth.email]
enable_signup = true
double_confirm_changes = true
enable_confirmations = false

[edge_functions]
enabled = true

[functions.call-events-webhook]
verify_jwt = false

# SECURITY: download-voicemail now requires JWT authentication
[functions.download-voicemail]
verify_jwt = true

[functions.fix-sendgrid-webhook]
verify_jwt = true

[functions.manual-end-call]
verify_jwt = true

[functions.sendgrid-inbound]
verify_jwt = false

[functions.test-aircall-credentials]
verify_jwt = true

[functions.noddi-search-by-name]
verify_jwt = true

[functions.suggest-replies]
verify_jwt = true

[functions.create-embedding]
verify_jwt = true

[functions.search-knowledge]
verify_jwt = true

[functions.promote-response]
verify_jwt = true

[functions.translate-text]
verify_jwt = true

[functions.track-outcome]
verify_jwt = true

[functions.auto-promote-responses]
verify_jwt = true

[functions.submit-feedback]
verify_jwt = true

[functions.batch-update-embeddings]
verify_jwt = true

[functions.generate-analytics-report]
verify_jwt = true

[functions.create-service-ticket]
verify_jwt = true

[functions.update-ticket-status]
verify_jwt = true

[functions.send-ticket-notification]
verify_jwt = true

[functions.refine-suggestion]
verify_jwt = true

[functions.extract-refinement-pattern]
verify_jwt = true

[functions.cleanup-duplicate-messages]
verify_jwt = true

[functions.database-recovery]
verify_jwt = true

[functions.monitor-database-health]
verify_jwt = true

[functions.sync-unlinked-calls]
verify_jwt = true

[functions.helpscout-import]
verify_jwt = true

[functions.admin-create-user]
verify_jwt = true

[functions.deduplicate-customers]
verify_jwt = true

[functions.process-mention-notifications]
verify_jwt = true

[functions.slack-oauth]
verify_jwt = false

[functions.slack-list-channels]
verify_jwt = true

[functions.send-slack-notification]
verify_jwt = false

[functions.bulk-close-old-conversations]
verify_jwt = true

[functions.update-sendgrid-token]
verify_jwt = true

# PUBLIC: get-attachment is public - storageKey is unguessable UUID path
[functions.get-attachment]
verify_jwt = false

[functions.admin-cleanup-users]
verify_jwt = true

[functions.admin-get-all-users]
verify_jwt = true

[functions.resend-user-invite]
verify_jwt = true

# PUBLIC: Widget functions are public - validated by widget_key
[functions.widget-config]
verify_jwt = false

[functions.widget-submit]
verify_jwt = false

[functions.widget-search-faq]
verify_jwt = false

[functions.widget-chat]
verify_jwt = false

[functions.extract-knowledge-from-history]
verify_jwt = true

[functions.widget-ai-chat]
verify_jwt = false

[functions.widget-ai-feedback]
verify_jwt = false

[functions.widget-send-verification]
verify_jwt = false

[functions.widget-verify-phone]
verify_jwt = false

[functions.noddi-address-lookup]
verify_jwt = false

[functions.noddi-booking-proxy]
verify_jwt = false
